/*! inception v1.0.0 | (c) 2017  | MIT License | git+https://github.com/UUX-Brasil/inception.git */
!function(e,n){"function"==typeof define&&define.amd?define([],n(e)):"object"==typeof exports?module.exports=n(e):e.inception=n(e)}("undefined"!=typeof global?global:this.window||this.global,function(e){function n(e,n){var o=new t;return o.config=e,o.modalHtml=n,o}"function"!=typeof Object.assign&&(Object.assign=function(e,n){"use strict";if(null===e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),o=1;o<arguments.length;o++){var i=arguments[o];if(null!==i)for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t});var t=function(){};t.prototype.show=function(e){var n=this;e||(e=n.config.selector),n.config.responsive&&y(n.config,n.modalHtml),e.appendChild(n.modalHtml),n.isOpen=!0,n.config.onOpen()},t.prototype.close=function(){var e=this,n=document.getElementById(e.config.idDOM);if(!n)throw"Modal not found!";n.remove(),e.isOpen=!1,e.config.onClose()},t.prototype.updateHTML=function(e,n){var t=this;t.config.innerHTML=e,t.modalHtml=u(t.config),n&&n()},t.prototype.closeOverlay=function(){var e=this;document.getElementById(e.config.idDOM).getElementsByClassName(i)[0].style.display="none"},t.prototype.openOverlay=function(){var e=this;document.getElementById(e.config.idDOM).getElementsByClassName(i)[0].style.display="block"},t.prototype.isOpen=!1,t.prototype.config={},t.prototype.modalHtml="";var o={},i="inception-overlay",r=[],l={id:0,idDOM:"",innerHTML:"<span>Hello world!</span>",selector:document.body,height:"240px",width:"350px",fullScreen:{enable:!1,scroll:!1},opacity:.5,overlayColor:"#FFF",position:"center",onClickOut:function(){return!1},onCreate:function(){return!1},onOpen:function(){return!1},onClose:function(){return!1},onDestroy:function(){return!1}};Element.prototype.remove=function(){this.parentElement.removeChild(this)},Element.prototype.show=function(){document.body.appendChild(this)},NodeList.prototype.remove=HTMLCollection.prototype.remove=function(){for(var e=this.length-1;e>=0;e--)this[e]&&this[e].parentElement&&this[e].parentElement.removeChild(this[e])};var c=function(e){var n=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;e=e.replace(n,function(e,n,t,o){return n+n+t+t+o+o});var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null},a=function(e,n){n=parseFloat(n);var t=document.createElement("div");return e=c(e),t.className=i,t.style.backgroundColor="rgba("+e.r+","+e.g+","+e.b+","+n+")",t},s=function(e){var n=document.createElement("div");return n.className="inception-content",n.innerHTML=e.innerHTML,n},d=function(e,n,t,o){var i=e.getElementsByClassName("inception-content")[0];o.enable?(i.style.width="100%",i.style.height="100vh",o.scroll&&(i.style.overflow="scroll"),e.classList.contains("full-screen")||(e.className+=" full-screen")):(i.style.width=n,i.style.height=t,e.classList.remove("full-screen"))},u=function(e){var n=document.createElement("div");n.className="inception-modal",n.id=e.idDOM;var t=a(e.overlayColor,e.opacity),o=s(e);return n.appendChild(t),n.appendChild(o),n.getElementsByClassName(i)[0].addEventListener("click",e.onClickOut),n},f=function(e){return"modal"+e},p=function(e){var n={};return Object.assign(n,l,e),n.id=(new Date).getTime(),n.idDOM=f(n.id),n},m=function(e,n){return e-n},h=function(e){var n=[320,768,990,1200];return n.push(e),n.sort(m),n=n.filter(function(e,n,t){return n==t.indexOf(e)}),n[n.indexOf(e)+1]},v=function(e,n,t){t=parseInt(t);var o=h(t),i=e.responsive[t],r=e.width,l=e.height,c=e.fullScreen;t<1200&&(window.innerWidth>t&&window.innerWidth<o&&(void 0!==i.width&&(r=i.width),void 0!==i.height&&(l=i.height),i.fullScreen&&(c=i.fullScreen)),d(n,r,l,c))},y=function(e,n){Object.keys(e.responsive).forEach(function(t){v(e,n,t),window.addEventListener("resize",function(){v(e,n,t)},this)},this)};return o.create=function(e){var t=p(e),o=u(t);d(o,t.width,t.height,t.fullScreen);var i=n(t,o);return r[t.idDOM]=i,i},o.destroy=function(e){delete r[e],this.close(e)},o.close=function(e){document.getElementById(e).remove()},o.getModals=function(){return r},o.getModal=function(e){return r[e]},o.destroyAll=function(){var e=document.querySelectorAll(".inception-modal");r=[],Object.keys(e).map(function(n,t){console.log(e[n].remove())})},o});